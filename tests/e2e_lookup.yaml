# E2E Lookup Function Validation (Demo Functions Only)
# Validated against Gnumeric
#
# Note: INDEX and MATCH functions require table/array data structures.
# The v1.0.0 schema only supports scalar assumptions. These functions
# are tested via unit tests with table contexts in the enterprise test suite.
# CHOOSE is the only lookup function testable with scalar data.

_forge_version: "1.0.0"

assumptions:
  # CHOOSE - Select from list by index
  test_choose_1:
    value: null
    formula: "=CHOOSE(1, 100, 200, 300)"        # Expected: 100
  test_choose_2:
    value: null
    formula: "=CHOOSE(2, 100, 200, 300)"        # Expected: 200
  test_choose_3:
    value: null
    formula: "=CHOOSE(3, 100, 200, 300)"        # Expected: 300

  # CHOOSE with calculations
  test_choose_sum:
    value: null
    formula: "=CHOOSE(1, 10, 20) + CHOOSE(2, 10, 20)"   # Expected: 30 (10 + 20)

  # CHOOSE with nested IF
  selector:
    value: 2
    formula: null
  test_choose_dynamic:
    value: null
    formula: "=CHOOSE(selector, 10, 20, 30)"    # Expected: 20 (selector=2)
