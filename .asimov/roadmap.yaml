# Forge Roadmap
# For version history, see CHANGELOG.md
# Last updated: 2025-12-08
#
# ═══════════════════════════════════════════════════════════════════════════════
# CODING STANDARDS
# ═══════════════════════════════════════════════════════════════════════════════
# - Unit tests: Keep with code (Rust way: #[cfg(test)] mod tests in same file)
# - Test coverage: 100% mandatory for all functional code
# - No file > 1,500 lines (split into submodules when exceeded)
# - Zero warnings policy
# - ADR-006: Use #[cfg(not(coverage))] for untestable code paths
# ═══════════════════════════════════════════════════════════════════════════════

metadata:
  current_version: "5.10.0"
  last_updated: "2025-12-08"
  philosophy: "Zero tokens. Zero emissions. $40K-$132K/year saved."

# Current Release
current:
  version: "5.10.0"
  status: released
  date: "2025-12-08"
  summary: "Formula Translator Extended + E2E Validation Fixed"
  highlights:
    - "Formula translator supports 147 Excel functions"
    - "33 E2E tests validating 44 formulas against Gnumeric"
    - "81 functions in Forge evaluator"
    - "Fixed BROKEN state from interrupted session"
  stats:
    tests: 1709
    warnings: 0
    functions_evaluator: 81
    functions_translator: 147
    e2e_formulas_validated: 44
    coverage: "89.23%"

# ═══════════════════════════════════════════════════════════════════════════════
# NEXT MILESTONE: Documentation Overhaul
# ═══════════════════════════════════════════════════════════════════════════════

next:
  - version: "5.11.0"
    summary: "Documentation Overhaul - Business-Oriented README + Precise Stats"
    priority: HIGH
    status: pending
    estimated_effort: "1-2 hours"
    notes: "Make Forge attractive to Big 4, fintech, FP&A teams"

    deliverables:
      - task: "README.md complete rewrite - business-oriented"
        status: pending
        notes: |
          Target: McKinsey, BCG, Bain, Deloitte, PwC, EY, KPMG
          Target: Stripe, Square, Plaid, Affirm, Klarna
          Target: Goldman Sachs, JPMorgan, BlackRock, Citadel
          Pain points: Excel version hell, formula errors, audit nightmares

      - task: "Update --help text with precise stats"
        status: pending
        notes: "81 functions in evaluator, 147 in translator"

      - task: "Update forge functions command - list ALL 81 by category"
        status: pending
        notes: "Precise categorization, no approximations"

      - task: "Create ENTERPRISE.md for compliance/API docs"
        status: pending

    success_criteria:
      - "README speaks to finance professionals, not developers"
      - "All stats are precise (81, 147, 1709 - not 80+, 100+)"
      - "Clear ROI case for enterprise adoption"

  # ─────────────────────────────────────────────────────────────────────────────
  # 100% CODE COVERAGE MILESTONES
  # ─────────────────────────────────────────────────────────────────────────────

  - version: "5.12.0"
    summary: "100% Coverage - Dead Code & Quick Wins"
    priority: HIGH
    status: pending
    estimated_effort: "1 session"

    deliverables:
      - task: "Remove dead code: core/array_calculator/dates.rs"
        status: pending
        current: "0.00%"
        missed_lines: 444
        notes: "Legacy dates.rs is dead code (replaced by evaluator/dates.rs)"

      - task: "Quick wins: 15 files with <15 missed lines each"
        status: pending
        notes: "types.rs, error.rs, logical.rs, text.rs, array.rs, server.rs, etc."

    success_criteria:
      - "Dead code removed"
      - "All quick win files at 100%"

  - version: "5.13.0"
    summary: "100% Coverage - Medium Files (15-50 missed lines)"
    priority: HIGH
    status: pending
    estimated_effort: "1-2 sessions"

    deliverables:
      - task: "Cover 13 medium files"
        status: pending
        notes: "math.rs, dates.rs, formula_translator.rs, importer.rs, etc."

  - version: "5.14.0"
    summary: "100% Coverage - Complex Files (50+ missed lines)"
    priority: HIGH
    status: pending
    estimated_effort: "2-3 sessions"
    notes: "May need cfg(not(coverage)) for OS-specific/server paths"

    deliverables:
      - task: "Cover 5 complex files"
        status: pending
        notes: "mcp/server.rs, analysis.rs, parser/mod.rs, evaluator/mod.rs, exporter.rs"

    success_criteria:
      - "100% test coverage for all functional code"
      - "Untestable code properly excluded via #[cfg(not(coverage))]"

# ═══════════════════════════════════════════════════════════════════════════════
# BACKLOG
# ═══════════════════════════════════════════════════════════════════════════════

backlog:
  - "Complete E2E validation for remaining functions (81 total)"
  - "GitHub Actions workflow for E2E tests (requires gnumeric in CI)"
  - "OpenAPI spec + Swagger UI for API server"
  - "Forge vs Copilot benchmark suite"
  - "Excel compatibility matrix documentation"

# ═══════════════════════════════════════════════════════════════════════════════
# For version history, see CHANGELOG.md
# ═══════════════════════════════════════════════════════════════════════════════
