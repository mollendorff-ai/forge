# Forge Roadmap
# For version history, see CHANGELOG.md
# Last updated: 2025-12-08
#
# ═══════════════════════════════════════════════════════════════════════════════
# CODING STANDARDS
# ═══════════════════════════════════════════════════════════════════════════════
# - Unit tests: Keep with code (Rust way: #[cfg(test)] mod tests in same file)
# - Test coverage: 100% mandatory for all functional code
# - No file > 1,500 lines (split into submodules when exceeded)
# - Zero warnings policy
# - ADR-006: Use #[cfg(not(coverage))] for untestable code paths
# ═══════════════════════════════════════════════════════════════════════════════

metadata:
  current_version: "5.12.0"
  last_updated: "2025-12-08"
  philosophy: "Zero tokens. Zero emissions. $40K-$132K/year saved."

current:
  version: "5.12.0"
  status: released
  date: "2025-12-08"
  summary: "Source Closure Complete - Gitolite + GitHub Demo"
  stats:
    tests: 1709
    warnings: 0
    functions_evaluator: 81
    functions_translator: 147
    coverage: "89.23%"

# ═══════════════════════════════════════════════════════════════════════════════
# NEXT MILESTONES
# ═══════════════════════════════════════════════════════════════════════════════

next:

  # ─────────────────────────────────────────────────────────────────────────────
  # 5.13.0: Function Parity (81 → 147) - DO THIS FIRST
  # ─────────────────────────────────────────────────────────────────────────────

  - version: "5.13.0"
    summary: "Complete Function Parity - ALL 147 Functions Working"
    priority: CRITICAL
    status: pending
    notes: |
      GAP: 147 functions in translator, only 81 in evaluator.
      66 functions export to Excel but can't be calculated by Forge.

      WHY FIRST: Makes Demo Binary (Option A) simpler later.
      All functions exist → just add feature flags to gate enterprise ones.

    deliverables:
      - task: "Audit missing functions (diff translator vs evaluator)"
        status: pending
      - task: "Implement missing 66 functions in evaluator"
        status: pending
      - task: "Unit tests for each new function"
        status: pending
      - task: "E2E validate all 147 functions"
        status: pending

  # ─────────────────────────────────────────────────────────────────────────────
  # 5.14.0: Demo Binary (Option A: Feature Flags)
  # ─────────────────────────────────────────────────────────────────────────────

  - version: "5.14.0"
    summary: "Demo Binary - Feature Flags (Option A)"
    priority: CRITICAL
    status: pending
    notes: |
      DECISION: Option A - Feature Flags

      cargo build              → demo (~40 functions, v1.0.0 only)
      cargo build --features full → enterprise (147 functions, all schemas)

      Gate with #[cfg(feature = "full")]:
      - Enterprise functions (VARIANCE, BREAKEVEN, SCENARIO, LET, LAMBDA, etc.)
      - v4.0.0/v5.0.0 schema support
      - API server

    deliverables:
      - task: "Add 'full' feature to Cargo.toml"
        status: pending
      - task: "Gate enterprise functions"
        status: pending
      - task: "Cross-compile demo binaries"
        status: pending
      - task: "Host on royalbit.ca/forge/"
        status: pending

  # ─────────────────────────────────────────────────────────────────────────────
  # 5.15.0: Documentation Polish
  # ─────────────────────────────────────────────────────────────────────────────

  - version: "5.15.0"
    summary: "Documentation Polish"
    priority: NORMAL
    status: pending

  # ─────────────────────────────────────────────────────────────────────────────
  # 5.16.0: 100% Coverage
  # ─────────────────────────────────────────────────────────────────────────────

  - version: "5.16.0"
    summary: "100% Coverage - Dead Code Removal"
    priority: NORMAL
    status: pending

# ═══════════════════════════════════════════════════════════════════════════════
# BACKLOG
# ═══════════════════════════════════════════════════════════════════════════════

backlog:
  - "Enterprise licensing (when ready to leave CGI)"
  - "Git history cleanup - MIT license removal"
  - "MCP server integration"
